/*
 * Description  : Create dataset and drop that dataset and query Metadata Dataset to verify the drop.
 * Expected Res : Success
 * Date         : Sep 17 2012
 */

drop dataverse test if exists;
create dataverse test;

write output to nc1:"mdtest/basic_meta11.adm";

create type test.testtype as open {
id : int32
}

create dataset test.dst01(testtype) partitioned by key id;

drop dataset test.dst01;

count(
for $l in dataset('Metadata.Dataset')
where $l.DataverseName='test' and $l.DatasetName='dst01'
return $l
)

drop dataverse test;

