/*
 * Description      :  Test that a synthetically created content type is dropped with its parent type. 
 *                     Guards against regression to issue 188.
 * Expected Result  :  Success
 */


drop dataverse test if exists;
create dataverse test;
use dataverse test;

create type FooType as closed {
   bar: int32?
};


drop type FooType;

write output to nc1:"mdtest/basic_meta14.adm";

count(
for $x in dataset('Metadata.Datatype')
where $x.DataverseName='test'
return $x
)

drop dataverse test;
